<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wake Up & Win Helper</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      text-align: center;
    }
    input {
      width: 300px;
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      text-align: center;
    }
    .results {
      margin-top: 20px;
    }
    .result-item {
      margin: 10px 0;
      font-size: 18px;
    }
    .highlight {
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Wake Up & Win Helper</h1>
    <p>Step 1: Type your letter below:</p>
    <input type="text" id="letterInput" maxlength="1" placeholder="Enter letter (A-Z)" autofocus />

    <p>Step 2: Type a category to filter results:</p>
    <input type="text" id="categoryInput" placeholder="Search category" />

    <div id="results" class="results"></div>
  </div>
  <script src="topics.js"></script>

  <script>


// DOM elements
const letterInput = document.getElementById("letterInput");
const categoryInput = document.getElementById("categoryInput");
const resultsDiv = document.getElementById("results");

let currentData = {}; // Store the data for the selected letter

// Function to display results
function displayResults(data) {
  resultsDiv.innerHTML = ""; // Clear previous results

  if (!data || Object.keys(data).length === 0) {
    resultsDiv.innerHTML = "<p>No matching categories found.</p>";
    return;
  }

  // Sort categories alphabetically
  const sortedCategories = Object.keys(data).sort();

  sortedCategories.forEach((category) => {
    const answers = data[category].join(", ");
    const resultItem = document.createElement("div");
    resultItem.className = "result-item";
    resultItem.innerHTML = `<span class="highlight">${category}:</span> ${answers}`;
    resultsDiv.appendChild(resultItem);
  });
}

// Handle letter input
letterInput.addEventListener("keyup", () => {
  const letter = letterInput.value.toUpperCase();
  if (data[letter]) {
    currentData = data[letter];
    displayResults(currentData); // Show all categories for the selected letter
    categoryInput.focus(); // Focus on the category input box
  } else {
    resultsDiv.innerHTML = "<p>No data available for this letter.</p>";
    currentData = {};
  }
});

// Handle category search
categoryInput.addEventListener("input", () => {
  const searchQuery = categoryInput.value.toLowerCase();

  if (searchQuery.trim() === "") {
    displayResults(currentData); // Reset to full list
    return;
  }

  // Filter results based on search query
  const filteredResults = Object.keys(currentData)
    .filter((category) => category.toLowerCase().includes(searchQuery))
    .reduce((obj, key) => {
      obj[key] = currentData[key];
      return obj;
    }, {});

  displayResults(filteredResults);
});

// Handle Space and Enter for clearing
categoryInput.addEventListener("keydown", (event) => {
  if (event.key === "Enter" || event.key === " ") {
    event.preventDefault(); // Prevent default behavior
    categoryInput.value = ""; // Clear the input box
    displayResults(currentData); // Reset to full list
  }
});
</script>
